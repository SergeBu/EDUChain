# language: ru
Функционал: Стейкинг EDU токенов в экосистеме EDUChain

  Контекст:
    - Максимальная сумма стейкинга: 10 000 EDU
    - Разрешенные роли: Student, Professor
    - Контракт может быть приостановлен администратором

  Сценарий: Успешный стейкинг студентом
    Дано: Контракт EDUToken развернут в сети Polygon Mumbai
    И: Контракт не находится в состоянии паузы
    И: Пользователь "alice" имеет роль "Student"
    И: Кошелек "alice" имеет баланс ≥ 500 EDU
    Когда: Пользователь "alice" вызывает метод stake(500)
    Тогда: Баланс стейкинга "alice" увеличивается на 500 EDU
    И: Событие Staked эмитируется с параметрами (alice, 500)

  Сценарий: Попытка стейкинга нулевой суммы
    Дано: Пользователь "bob" имеет роль "Professor"
    Когда: Пользователь "bob" вызывает метод stake(0)
    Тогда: Транзакция отменена с ошибкой "Amount must be > 0"
    И: Баланс стейкинга "bob" не изменяется

  Примеры: Граничные значения
    | amount | ожидаемый результат | сообщение об ошибке       |
    | 1      | успешно             |                           |
    | 10000  | успешно             |                           |
    | 10001  | ошибка              | "Exceeds max stake"       |

  Сценарий: Стейкинг при приостановленном контракте
    Дано: Администратор приостановил контракт
    И: Пользователь "carol" имеет роль "Student"
    Когда: Пользователь "carol" вызывает метод stake(200)
    Тогда: Транзакция отменена с ошибкой "Operations paused"

  Сценарий: Нарушение ролевой политики
    Дано: Контракт активен
    И: Пользователь "dave" имеет роль "Investor"
    Когда: Пользователь "dave" вызывает метод stake(1000)
    Тогда: Транзакция отменена с ошибкой "Access denied: Only Student/Professor